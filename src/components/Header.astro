---
import { Icon } from 'astro-icon'

export interface Props {
	title: string;
}

const { title } = Astro.props as Props;
---

<nav class="mb-10">
  <a class="title" href="/">{title}</a>
  <button aria-expanded="false">
    <Icon name="bars-solid" />
  </button>
  <ul class="mt-3" hidden>
    <li><a href="/texts/">Texts</a></li>
    <li><a href="/images/">Image</a></li>
    <li><a href="/sounds/">Sound</a></li>
    <li><a href="/code/">Code</a></li>
  </ul>
</nav>

<script>
  const navButton = document.querySelector('nav button');
  navButton.addEventListener('click', function() {

    let expanded = this.getAttribute('aria-expanded') === 'true';
    this.setAttribute('aria-expanded', !expanded)

    let navList = this.nextElementSibling;
    navList.hidden = !navList.hidden
  })
</script>

<style>
  .title {
    font-size: var(--font-size-xl)
  }

  nav {
    display: grid;
    grid-template-columns: 1fr 3ch;
    background-color: var(--color-bg);

    position: sticky;
    top: 0;
  }

  button {
    width: 3ch;
    justify-self: right;
  }

  [astro-icon] {
    max-width: 3ch;
  }

  ul:not([hidden]) {
    justify-self: left;
    grid-column: 1 / 3;

    display: flex;
    flex-wrap: wrap;
    column-gap: 3ch;
  }

  li {
    font-size: var(--font-size-lg)
  }

</style>