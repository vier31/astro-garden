---
import { Icon } from 'astro-icon'

export interface Props {
	title: string;
}

const { title } = Astro.props as Props;
---

<nav class="mb-10">
  <a href="/"><h2>{title}</h2></a>
  <button aria-expanded="false">
    <Icon name="bars-solid" />
  </button>
  <ul id="options" class="mt-6" hidden>
    <li>Text</li>
    <li>Image</li>
    <li>Sound</li>
    <li>Code</li>
  </ul>
</nav>

<script>
  const navButton = document.querySelector('nav button');
  navButton.addEventListener('click', function() {
    let expanded = this.getAttribute('aria-expanded') === 'true';
    this.setAttribute('aria-expanded', !expanded)

    let menu = this.nextElementSibling;
    menu.hidden = !menu.hidden
  })
</script>

<style>
  nav {
    display: grid;
    grid-template-columns: 1fr 3ch;
    background-color: var(--color-bg);

    position: sticky;
    top: 0;
  }

  button {
    width: 3ch;
    justify-self: right;
  }

  [astro-icon] {
    max-width: 3ch;
  }

  #options {
    justify-self: center;
    grid-column: 1 / 3;
  }
</style>